using Godot;

[GlobalClass]
public partial class I_Piece : Piece {
    public override (int, int)[,] rotations {
        get {
            return new (int y, int x)[,] { // Treat the top left corner of piece to be 0, 0
                { (-1, 0), (0, 0), (1, 0), (2, 0) }, // Rotation 0
                { (1, -1), (1, 0), (1, 1), (1, 2) }, // Rotation 1 (R)
                { (2, 1), (1, 1), (0, 1), (-1, 1) }, // Rotation 2
                { (0, 2), (0, 1), (0, 0), (0, -1)} // Rotation 3 (L)
            };
        }
    }
    public override (int, int)[,,] kickData {
        get {
            return new (int x, int y)[,,] {
                { // Rotation 0
                    { ( 0, 0), (+1, 0), (-2, 0), (+1,+2), (-2,-1) }, // CW (3/L -> 0)   ( 0, 0)	(+1, 0)	(-2, 0)	(+1,-2)	(-2,+1)
                    { ( 0, 0), (+2, 0), (-1, 0), (+2,-1), (-1,+2) } // CCW (1/R -> 0)   ( 0, 0)	(+2, 0)	(-1, 0)	(+2,+1)	(-1,-2)
                }, // So far so good
                { // Rotation 1
                    { ( 0, 0), (-2, 0), (+1, 0), (-2,+1), (+1,-2) }, // CW (0 -> 1/R)   ( 0, 0)	(-2, 0)	(+1, 0)	(-2,-1)	(+1,+2)
                    { ( 0, 0), (+1, 0), (-2, 0), (+1,+2), (-2,-1) } // CCW (2 -> 1/R)   ( 0, 0)	(+1, 0)	(-2, 0)	(+1,-2)	(-2,+1)
                }, // So far so good
                { // Rotation 2
                    { ( 0, 0), (-1, 0), (+2, 0), (-1,-2), (+2,+1) }, // CW (1/R -> 2)   ( 0, 0)	(-1, 0)	(+2, 0)	(-1,+2)	(+2,-1)
                    { ( 0, 0), (-2, 0), (+1, 0), (-2,+1), (+1,-2) } // CCW (3/L -> 2)   ( 0, 0)	(-2, 0)	(+1, 0)	(-2,-1)	(+1,+2)
                },
                { // Rotation 3
                    { ( 0, 0), (+2, 0), (-1, 0), (+2,-1), (-1,+2) }, // CW (2 -> 3/L)   ( 0, 0)	(+2, 0)	(-1, 0)	(+2,+1)	(-1,-2)
                    { ( 0, 0), (-1, 0), (+2, 0), (-1,-2), (+2,+1) } // CCW (0 -> 3/L)   ( 0, 0)	(-1, 0)	(+2, 0)	(-1,+2)	(+2,-1)
                }
            };
        }
    }

    public override Vector2 gridOffset {
        get {
            return new Vector2(-.5f, .5f);
        }
    }
}